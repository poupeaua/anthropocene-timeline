{{ define "main" }}

<div class="relative h-screen w-screen bg-white dark:bg-neutral-800">
  <div
    class="absolute inset-0 bg-cover bg-no-repeat mask-b-from-80% mask-b-to-99%"
    style="background-image: url('{{ "img/main/art-ipcc-curv.jpeg" | relURL }}'); background-size: cover; background-position: center;">
  </div>

  <div class="absolute bottom-14 left-1/2 -translate-x-1/2 flex flex-col items-center text-neutral-800 dark:text-white">
      <h5 class="text-base text-center hover:text-blue-600 dark:hover:text-blue-500">
        <a href="https://www.jillpelto.com/currents/" target="_blank">{{ $.Param "top.image.info" | markdownify }}</a>
      </h5>
      <p class="text-sm text-center">{{ $.Param "top.image.subinfo" }}</p>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
      class="bi bi-arrow-down-short animate-bounce mt-4"
      viewBox="0 0 16 16">
      <path fill-rule="evenodd"
        d="M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 
           3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 
           10.293V4.5A.5.5 0 0 1 8 4" />
    </svg>
  </div>
</div>

<!-- Timeline -->
<div class="bg-white dark:bg-neutral-800">
  <div class="hs-accordion-group justify-center sm:mx-auto sm:w-4/5">

      {{ range $index, $element := (where .Site.Pages "Type" "timelineEvent").ByParam "Order" }}

      <!-- Item -->
      <div class="hs-accordion relative flex gap-x-0 group rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-700" id="hs-accordion-item-{{ $index }}">
        
        <!-- Close Button -->
        <button type="button" class="js-close-timeline-element opacity-0 transition-opacity pointer-events-none duration-300 absolute flex md:top-4 md:right-4 md:size-8 top-1 right-1 size-5 z-30 items-center justify-center  rounded-full bg-neutral-800 hover:bg-neutral-800/50 hover:text-neutral-800 dark:hover:text-white backdrop-blur-sm dark:text-neutral-800 dark:bg-white dark:hover:bg-white/50 text-white">
          <svg class="shrink-0 size-4 md:size-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>

        <button type="button" class="hs-accordion-toggle absolute inset-0 w-full h-full rounded-lg
           bg-transparent border-0 appearance-none
           cursor-pointer z-10"
          id="hs-accordion-heading-{{ $index }}"
          aria-expanded="false"
          aria-controls="hs-accordion-content-{{ $index }}">
        </button>

        <!-- Left Content -->
        <div class="max-xl:hidden min-w-20 text-end">
          <span class="text-xs text-gray-500 dark:text-neutral-400">{{ .Params.Year }}</span>
        </div>
        <!-- End Left Content -->

        <!-- Icon -->
        <div class="relative last:after:hidden after:absolute after:top-0 after:bottom-0 after:start-3.5 after:w-px after:-translate-x-[0.5px] after:bg-gray-200 dark:after:bg-neutral-700 dark:group-hover:after:bg-neutral-600">
          <div class="relative z-10 size-7 flex justify-center items-center">
          <div class="size-2.5 rounded-full bg-white border-2 border-gray-300 group-hover:border-gray-600 dark:bg-neutral-800 dark:border-neutral-600 dark:group-hover:border-white"></div>
          </div>
        </div>
        <!-- End Icon -->

        <!-- Right Content -->
        <div class="py-9 pt-1 hs-accordion-active:py-0 hs-accordion-active:pt-1 duration-200">
          <div class="flex -mt-0.5">
            <div class="sm:hidden font-semibold text-gray-800 dark:text-white mr-2 -mt-0.5">
              <span class="inline-flex items-center gap-x-1.5 py-1 px-2 rounded-md text-xs font-medium border border-gray-200 bg-neutral-800 text-white shadow-2xs dark:bg-white dark:border-neutral-700 dark:text-neutral-800">{{ .Params.Year }}</span>
            </div>
            <div class="font-semibold text-gray-800 dark:text-white">
              {{ .Title }}
            </div>
          </div>
          <div id="hs-accordion-content-{{ $index }}" class="hs-accordion-content hidden w-full transition-[height] duration-300 overflow-hidden" aria-labelledby="hs-accordion-heading-{{ $index }}">
            <div class="relative z-20 py-3 mr-4 dark:text-white max-h-[50vh] md:max-h-[70vh] overflow-y-auto">
              {{ .Content }} 
            </div>
          </div>
        </div>
        <!-- End Right Content -->
      </div>
      <!-- End Item -->
      {{ end }}
      
  </div>
</div>

{{ end }}
