{{ define "main" }}

<div class="relative h-screen bg-white dark:bg-neutral-800">
  <div
    class="absolute inset-0 bg-cover bg-no-repeat mask-b-from-80% mask-b-to-99%"
    style="background-image: url('{{ "img/ecology/main/art-ipcc-curv.jpeg" | relURL }}'); background-size: cover; background-position: center;">
  </div>

  <!-- Bouncing arrow -->
  <div class="relative flex top-11/12 animate-bounce justify-center text-neutral-800 dark:text-white">
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
      class="bi bi-arrow-down-short"
      viewBox="0 0 16 16">
      <path fill-rule="evenodd"
        d="M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 
           3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 
           10.293V4.5A.5.5 0 0 1 8 4" />
    </svg>
  </div>
</div>

<!-- About Section Heading-->
<div class="bg-white dark:bg-neutral-800 text-center text-gray-800 dark:text-white">
  <h2>{{ $.Param "timeline.title" }}</h2>

  <p>{{ $.Param "timeline.intro" }}</p>

  <p>{{ $.Param "timeline.citation" | markdownify }}</p>
</div>

<!-- Timeline -->
<div class="bg-white dark:bg-neutral-800">
  <div class="hs-accordion-group justify-center sm:mx-auto sm:w-4/5">

      {{ range $index, $element := (where .Site.Pages "Type" "timelineEvent").ByParam "Order" }}

      <!-- Item -->
      <div class="hs-accordion relative flex gap-x-0 group rounded-lg hover:bg-gray-100 dark:hover:bg-white/10" id="hs-accordion-item-{{ $index }}">

        <button type="button" class="hs-accordion-toggle absolute inset-0 w-full h-full rounded-lg
           bg-transparent border-0 appearance-none
           cursor-pointer z-10"
          id="hs-accordion-heading-{{ $index }}"
          aria-expanded="false"
          aria-controls="hs-accordion-content-{{ $index }}">
        </button>

        <!-- Left Content -->
        <div class="min-w-30 text-end">
          <span class="text-xs text-gray-500 dark:text-neutral-400">{{ .Params.Year }}</span>
        </div>
        <!-- End Left Content -->

        <!-- Icon -->
        <div class="relative last:after:hidden after:absolute after:top-0 after:bottom-0 after:start-3.5 after:w-px after:-translate-x-[0.5px] after:bg-gray-200 dark:after:bg-neutral-700 dark:group-hover:after:bg-neutral-600">
          <div class="relative z-10 size-7 flex justify-center items-center">
          <div class="size-2 rounded-full bg-white border-2 border-gray-300 group-hover:border-gray-600 dark:bg-neutral-800 dark:border-neutral-600 dark:group-hover:border-neutral-600"></div>
          </div>
        </div>
        <!-- End Icon -->

        <!-- Right Content -->
        <div class="grow pt-0.5 pb-8">
          <div class="flex font-semibold text-gray-800 dark:text-white">
            {{ .Title }}
          </div>
          <div id="hs-accordion-content-{{ $index }}" class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="hs-accordion-heading-{{ $index }}">
            <div class="relative z-20 mt-7.5 mr-3 bg-white rounded-lg py-3 px-4 dark:bg-neutral-800 dark:text-white max-h-[70vh] overflow-y-auto">
              {{ .Content }} 
            </div>
          </div>
        </div>
        <!-- End Right Content -->
      </div>
      <!-- End Item -->
      {{ end }}
      
  </div>
</div>

{{ end }}
