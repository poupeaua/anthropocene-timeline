{{ define "main" }}

<div class="relative h-screen bg-white dark:bg-neutral-800">
  <div
    class="absolute inset-0 bg-cover bg-no-repeat mask-b-from-80% mask-b-to-99%"
    style="background-image: url(img/ecology/main/art-ipcc-curv.jpeg); background-size: cover; background-position: center;"></div>
</div>

<!-- About Section Heading-->
<div class="bg-white dark:bg-neutral-800 text-center text-gray-800 dark:text-white">
  <h2 class="">{{ $.Param "timeline.title" }}</h2>

  <p class="">{{ $.Param "timeline.intro" }}</p>

  <p class="">{{ $.Param "timeline.citation" | markdownify }}</p>
</div>

<!-- Timeline -->
<div class="bg-white dark:bg-neutral-800">
  <div class="justify-center mx-auto w-4/5">

      {{ range $index, $element := (where .Site.Pages "Type" "timelineEvent").ByParam "Order" }}

      <!-- Item -->
      <div class="relative flex gap-x-3 group rounded-lg hover:bg-gray-100 dark:hover:bg-white/10">

        <button type="button" class="hs-collapse-toggle absolute inset-0 w-full h-full rounded-lg
           bg-transparent border-0 appearance-none
           cursor-pointer z-10"
          id="hs-basic-collapse"
          aria-expanded="false"
          aria-controls="hs-basic-collapse-heading{{ $index }}"
          data-hs-collapse="#hs-basic-collapse-heading{{ $index }}">
        </button>

        <!-- Left Content -->
        <div class="min-w-30 text-end">
          <span class="text-xs text-gray-500 dark:text-neutral-400">{{ .Params.Year }}</span>
        </div>
        <!-- End Left Content -->

        <!-- Icon -->
        <div class="relative last:after:hidden after:absolute after:top-0 after:bottom-0 after:start-3.5 after:w-px after:-translate-x-[0.5px] after:bg-gray-200 dark:after:bg-neutral-700 dark:group-hover:after:bg-neutral-600">
          <div class="relative z-10 size-7 flex justify-center items-center">
          <div class="size-2 rounded-full bg-white border-2 border-gray-300 group-hover:border-gray-600 dark:bg-neutral-800 dark:border-neutral-600 dark:group-hover:border-neutral-600"></div>
          </div>
        </div>
        <!-- End Icon -->

        <!-- Right Content -->
        <div class="grow pt-0.5 pb-8">
          <h3 class="flex gap-x-1.5 font-semibold text-gray-800 dark:text-white">
            {{ .Title }}
          </h3>
          <div id="hs-basic-collapse-heading{{ $index }}" class="hs-collapse hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="hs-basic-collapse">
            <div class="relative z-20 mt-7.5 mr-7 bg-white rounded-lg py-3 px-4 dark:bg-neutral-800 dark:text-white">
              {{ .Content }} 
            </div>
          </div>
        </div>
        <!-- End Right Content -->
      </div>
      <!-- End Item -->
      {{ end }}
      
  </div>
</div>

{{ end }}